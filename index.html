<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Dr. Gareth Roberts — Bridging how brains think and machines learn. PhD in Cognitive Neuroscience & AI.">
<meta name="theme-color" content="#0a0a1a">
<title>Dr. Gareth Roberts — Cognitive Neuroscience & AI</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
/* ====== CUSTOM PROPERTIES ====== */
:root {
  --bg-primary: #06060f;
  --bg-secondary: #0c0c1d;
  --bg-card: rgba(15, 15, 35, 0.6);
  --bg-card-hover: rgba(25, 25, 55, 0.7);
  --border-subtle: rgba(100, 120, 255, 0.08);
  --border-glow: rgba(100, 140, 255, 0.25);
  --text-primary: #e8eaf6;
  --text-secondary: #8a8fb5;
  --text-muted: #5a5f82;
  --accent-blue: #6c8cff;
  --accent-purple: #a06cff;
  --accent-cyan: #4dd9e8;
  --accent-pink: #ff6cb4;
  --accent-gold: #ffd76c;
  --gradient-hero: linear-gradient(135deg, #6c8cff 0%, #a06cff 50%, #ff6cb4 100%);
  --gradient-card: linear-gradient(135deg, rgba(108,140,255,0.05) 0%, rgba(160,108,255,0.05) 100%);
  --glass-bg: rgba(12, 12, 30, 0.65);
  --glass-border: rgba(100, 140, 255, 0.12);
  --shadow-glow: 0 0 60px rgba(108, 140, 255, 0.08);
  --radius-sm: 8px;
  --radius-md: 16px;
  --radius-lg: 24px;
  --radius-xl: 32px;
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
  --transition-smooth: cubic-bezier(0.22, 1, 0.36, 1);
  --transition-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* ====== RESET & BASE ====== */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
  scroll-padding-top: 80px;
}

body {
  font-family: var(--font-sans);
  background: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.7;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

::selection {
  background: rgba(108, 140, 255, 0.3);
  color: #fff;
}

a {
  color: var(--accent-blue);
  text-decoration: none;
  transition: color 0.3s var(--transition-smooth);
}

a:hover { color: var(--accent-cyan); }

img { max-width: 100%; display: block; }

/* ====== SCROLL REVEAL ====== */
.reveal {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s var(--transition-smooth), transform 0.8s var(--transition-smooth);
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

.reveal-delay-1 { transition-delay: 0.1s; }
.reveal-delay-2 { transition-delay: 0.2s; }
.reveal-delay-3 { transition-delay: 0.3s; }
.reveal-delay-4 { transition-delay: 0.4s; }
.reveal-delay-5 { transition-delay: 0.5s; }

/* ====== NAVIGATION ====== */
.nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  padding: 0 2rem;
  transition: all 0.4s var(--transition-smooth);
  backdrop-filter: blur(0px);
  -webkit-backdrop-filter: blur(0px);
  contain: layout style;
}

.nav.scrolled {
  background: rgba(6, 6, 15, 0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--glass-border);
}

.nav-inner {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 72px;
}

.nav-logo {
  font-weight: 700;
  font-size: 1.1rem;
  background: var(--gradient-hero);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: -0.02em;
}

.nav-links {
  display: flex;
  gap: 2rem;
  list-style: none;
}

.nav-links a {
  color: var(--text-secondary);
  font-size: 0.875rem;
  font-weight: 500;
  letter-spacing: 0.01em;
  position: relative;
  padding: 0.25rem 0;
}

.nav-links a::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--gradient-hero);
  border-radius: 1px;
  transition: width 0.3s var(--transition-smooth);
}

.nav-links a:hover { color: var(--text-primary); }
.nav-links a:hover::after { width: 100%; }

.nav-mobile-toggle {
  display: none;
  background: none;
  border: none;
  color: var(--text-primary);
  cursor: pointer;
  padding: 8px;
}

.nav-mobile-toggle span {
  display: block;
  width: 22px;
  height: 2px;
  background: var(--text-primary);
  margin: 5px 0;
  border-radius: 2px;
  transition: all 0.3s var(--transition-smooth);
}

/* ====== HERO SECTION ====== */
.hero {
  position: relative;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  contain: layout;
}

.hero-canvas {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.hero-gradient-overlay {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 80% 60% at 50% 40%, rgba(108,140,255,0.06) 0%, transparent 60%),
    radial-gradient(ellipse 60% 50% at 20% 80%, rgba(160,108,255,0.04) 0%, transparent 50%),
    radial-gradient(ellipse 50% 40% at 80% 20%, rgba(77,217,232,0.03) 0%, transparent 50%);
  z-index: 1;
  pointer-events: none;
}

.hero-content {
  position: relative;
  z-index: 2;
  text-align: center;
  padding: 2rem;
  max-width: 900px;
}

.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.4rem 1rem;
  border-radius: 100px;
  background: rgba(108, 140, 255, 0.08);
  border: 1px solid rgba(108, 140, 255, 0.15);
  color: var(--accent-blue);
  font-size: 0.8rem;
  font-weight: 500;
  letter-spacing: 0.04em;
  margin-bottom: 2rem;
  animation: fadeInUp 0.8s var(--transition-smooth) 0.2s both;
}

.hero-badge-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--accent-cyan);
  animation: pulse-dot 2s ease-in-out infinite;
}

@keyframes pulse-dot {
  0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(77,217,232,0.4); }
  50% { opacity: 0.7; box-shadow: 0 0 0 6px rgba(77,217,232,0); }
}

.hero-title {
  font-size: clamp(2.8rem, 7vw, 5.5rem);
  font-weight: 700;
  letter-spacing: -0.03em;
  line-height: 1.05;
  margin-bottom: 1.5rem;
  animation: fadeInUp 0.8s var(--transition-smooth) 0.4s both;
}

.hero-title-line {
  display: block;
}

.hero-title .gradient-text {
  background: var(--gradient-hero);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  background-size: 200% 200%;
  animation: gradient-shift 8s ease-in-out infinite;
}

@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.hero-subtitle {
  font-size: clamp(1.05rem, 2.2vw, 1.35rem);
  color: var(--text-secondary);
  font-weight: 400;
  max-width: 600px;
  margin: 0 auto 2.5rem;
  line-height: 1.7;
  animation: fadeInUp 0.8s var(--transition-smooth) 0.6s both;
}

.hero-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
  animation: fadeInUp 0.8s var(--transition-smooth) 0.8s both;
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.85rem 2rem;
  border-radius: 100px;
  font-size: 0.9rem;
  font-weight: 600;
  font-family: var(--font-sans);
  cursor: pointer;
  transition: all 0.4s var(--transition-smooth);
  border: none;
  position: relative;
  overflow: hidden;
}

.btn-primary {
  background: var(--gradient-hero);
  color: #fff;
  box-shadow: 0 4px 24px rgba(108, 140, 255, 0.25);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 40px rgba(108, 140, 255, 0.35);
  color: #fff;
}

.btn-ghost {
  background: transparent;
  color: var(--text-primary);
  border: 1px solid var(--border-glow);
}

.btn-ghost:hover {
  background: rgba(108, 140, 255, 0.08);
  border-color: var(--accent-blue);
  transform: translateY(-2px);
  color: var(--text-primary);
}

.hero-scroll-indicator {
  position: absolute;
  bottom: 2.5rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
  animation: fadeInUp 0.8s var(--transition-smooth) 1.2s both;
}

.scroll-line {
  width: 1px;
  height: 48px;
  background: linear-gradient(to bottom, var(--accent-blue), transparent);
  margin: 0 auto;
  position: relative;
  overflow: hidden;
}

.scroll-line::after {
  content: '';
  position: absolute;
  top: -100%;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, transparent, var(--accent-cyan), transparent);
  animation: scroll-pulse 2s ease-in-out infinite;
}

@keyframes scroll-pulse {
  0% { top: -100%; }
  100% { top: 200%; }
}

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ====== SECTION LAYOUT ====== */
.section {
  padding: 7rem 2rem;
  position: relative;
}

.section-inner {
  max-width: 1100px;
  margin: 0 auto;
}

.section-label {
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  font-size: 0.78rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--accent-blue);
  margin-bottom: 1rem;
  font-family: var(--font-mono);
}

.section-label::before {
  content: '';
  width: 24px;
  height: 1px;
  background: var(--accent-blue);
}

.section-title {
  font-size: clamp(2rem, 4vw, 3rem);
  font-weight: 700;
  letter-spacing: -0.02em;
  line-height: 1.15;
  margin-bottom: 1.25rem;
}

.section-desc {
  color: var(--text-secondary);
  font-size: 1.05rem;
  max-width: 600px;
  line-height: 1.7;
  margin-bottom: 3.5rem;
}

/* ====== ABOUT / STATS ====== */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1.5rem;
  margin-bottom: 4rem;
}

.stat-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 2rem;
  text-align: center;
  transition: all 0.4s var(--transition-smooth);
  position: relative;
  overflow: hidden;
}

.stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--gradient-hero);
  opacity: 0;
  transition: opacity 0.4s var(--transition-smooth);
}

.stat-card:hover {
  background: var(--bg-card-hover);
  border-color: var(--border-glow);
  transform: translateY(-4px);
  box-shadow: var(--shadow-glow);
}

.stat-card:hover::before { opacity: 1; }

.stat-number {
  font-size: 2.5rem;
  font-weight: 700;
  background: var(--gradient-hero);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  line-height: 1.2;
  margin-bottom: 0.35rem;
}

.stat-label {
  font-size: 0.85rem;
  color: var(--text-secondary);
  font-weight: 500;
}

/* ====== EXPERIENCE TIMELINE ====== */
.experience-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.experience-item {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  padding: 1.25rem 1.75rem;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  transition: all 0.4s var(--transition-smooth);
}

.experience-item:hover {
  border-color: var(--border-glow);
  background: var(--bg-card-hover);
  transform: translateX(6px);
}

.experience-icon {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.experience-icon.blue { background: rgba(108,140,255,0.12); }
.experience-icon.purple { background: rgba(160,108,255,0.12); }
.experience-icon.cyan { background: rgba(77,217,232,0.12); }
.experience-icon.pink { background: rgba(255,108,180,0.12); }

.experience-info h3 {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 0.15rem;
}

.experience-info p {
  font-size: 0.85rem;
  color: var(--text-secondary);
}

/* ====== PROJECTS ====== */
.projects-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.5rem;
}

.project-card {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: 2.25rem;
  transition: all 0.5s var(--transition-smooth);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.project-card::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: var(--radius-lg);
  background: var(--gradient-card);
  opacity: 0;
  transition: opacity 0.5s var(--transition-smooth);
  pointer-events: none;
}

.project-card:hover {
  border-color: var(--border-glow);
  transform: translateY(-6px);
  box-shadow: var(--shadow-glow);
}

.project-card:hover::after { opacity: 1; }

.project-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.project-icon {
  width: 52px;
  height: 52px;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
}

.project-icon.neural { background: linear-gradient(135deg, rgba(108,140,255,0.15), rgba(160,108,255,0.15)); }
.project-icon.shield { background: linear-gradient(135deg, rgba(255,108,180,0.15), rgba(255,215,108,0.15)); }
.project-icon.notebook { background: linear-gradient(135deg, rgba(77,217,232,0.15), rgba(108,140,255,0.15)); }

.project-link-icon {
  color: var(--text-muted);
  transition: color 0.3s;
  margin-top: 0.25rem;
}

.project-card:hover .project-link-icon { color: var(--accent-blue); }

.project-name {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 0.75rem;
  letter-spacing: -0.01em;
}

.project-desc {
  font-size: 0.92rem;
  color: var(--text-secondary);
  line-height: 1.7;
  margin-bottom: 1.5rem;
  flex-grow: 1;
}

.project-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.tag {
  font-size: 0.75rem;
  font-weight: 500;
  font-family: var(--font-mono);
  padding: 0.3rem 0.75rem;
  border-radius: 100px;
  background: rgba(108,140,255,0.08);
  color: var(--accent-blue);
  border: 1px solid rgba(108,140,255,0.1);
}

.tag.purple { background: rgba(160,108,255,0.08); color: var(--accent-purple); border-color: rgba(160,108,255,0.1); }
.tag.cyan { background: rgba(77,217,232,0.08); color: var(--accent-cyan); border-color: rgba(77,217,232,0.1); }
.tag.pink { background: rgba(255,108,180,0.08); color: var(--accent-pink); border-color: rgba(255,108,180,0.1); }
.tag.gold { background: rgba(255,215,108,0.08); color: var(--accent-gold); border-color: rgba(255,215,108,0.1); }

/* ====== TECH STACK ====== */
.stack-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
}

.stack-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1.25rem 1.5rem;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  transition: all 0.4s var(--transition-smooth);
  cursor: default;
}

.stack-item:hover {
  border-color: var(--border-glow);
  background: var(--bg-card-hover);
  transform: translateY(-3px);
}

.stack-icon {
  width: 42px;
  height: 42px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  flex-shrink: 0;
  position: relative;
}

.stack-icon::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 12px;
  background: var(--gradient-hero);
  opacity: 0;
  z-index: -1;
  filter: blur(8px);
  transition: opacity 0.3s;
}

.stack-item:hover .stack-icon::after { opacity: 0.4; }

.stack-icon.python { background: rgba(55,118,171,0.15); }
.stack-icon.pytorch { background: rgba(238,76,44,0.12); }
.stack-icon.langchain { background: rgba(28,60,60,0.2); }
.stack-icon.huggingface { background: rgba(255,210,30,0.1); }
.stack-icon.r-lang { background: rgba(39,109,195,0.12); }
.stack-icon.typescript { background: rgba(49,120,198,0.12); }

.stack-name {
  font-weight: 600;
  font-size: 0.95rem;
}

.stack-detail {
  font-size: 0.8rem;
  color: var(--text-muted);
}

/* ====== CONTACT / LINKS ====== */
.contact-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.25rem;
}

.contact-card {
  display: flex;
  align-items: center;
  gap: 1.25rem;
  padding: 1.5rem 1.75rem;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-lg);
  transition: all 0.4s var(--transition-smooth);
  text-decoration: none;
  color: var(--text-primary);
}

.contact-card:hover {
  border-color: var(--border-glow);
  background: var(--bg-card-hover);
  transform: translateY(-4px);
  box-shadow: var(--shadow-glow);
  color: var(--text-primary);
}

.contact-icon {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.3rem;
  flex-shrink: 0;
}

.contact-icon.linkedin { background: rgba(0,119,181,0.15); }
.contact-icon.scholar { background: rgba(66,133,244,0.12); }
.contact-icon.blog { background: rgba(255,87,34,0.12); }
.contact-icon.email { background: rgba(209,72,54,0.12); }

.contact-info h3 {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 0.15rem;
}

.contact-info p {
  font-size: 0.85rem;
  color: var(--text-secondary);
}

.contact-arrow {
  margin-left: auto;
  color: var(--text-muted);
  transition: all 0.3s var(--transition-smooth);
  font-size: 1.1rem;
}

.contact-card:hover .contact-arrow {
  color: var(--accent-blue);
  transform: translateX(4px);
}

/* ====== FOOTER ====== */
.footer {
  padding: 3rem 2rem;
  text-align: center;
  border-top: 1px solid var(--border-subtle);
}

.footer-text {
  font-size: 0.85rem;
  color: var(--text-muted);
}

.footer-text .gradient-text {
  background: var(--gradient-hero);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: 600;
}

/* ====== SECTION DIVIDERS ====== */
.section-divider {
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--border-glow), transparent);
  max-width: 1100px;
  margin: 0 auto;
}

/* ====== AMBIENT GLOW ORBS ====== */
.ambient-orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(120px);
  pointer-events: none;
  opacity: 0.5;
  will-change: transform;
}

.orb-1 {
  width: 500px;
  height: 500px;
  background: rgba(108,140,255,0.06);
  top: 20%;
  left: -10%;
  animation: float-orb 20s ease-in-out infinite;
}

.orb-2 {
  width: 400px;
  height: 400px;
  background: rgba(160,108,255,0.05);
  top: 60%;
  right: -8%;
  animation: float-orb 25s ease-in-out infinite reverse;
}

.orb-3 {
  width: 350px;
  height: 350px;
  background: rgba(77,217,232,0.04);
  bottom: 10%;
  left: 20%;
  animation: float-orb 22s ease-in-out infinite 5s;
}

@keyframes float-orb {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(30px, -40px) scale(1.05); }
  66% { transform: translate(-20px, 20px) scale(0.95); }
}

/* ====== RESPONSIVE ====== */
@media (max-width: 900px) {
  .stats-grid { grid-template-columns: repeat(2, 1fr); }
  .projects-grid { grid-template-columns: 1fr; }
  .stack-grid { grid-template-columns: repeat(2, 1fr); }
  .contact-grid { grid-template-columns: 1fr; }
  .section { padding: 5rem 1.5rem; }
}

@media (max-width: 640px) {
  .nav-links { display: none; }
  .nav-mobile-toggle { display: block; }

  .nav-links.mobile-open {
    display: flex;
    flex-direction: column;
    position: absolute;
    top: 72px;
    left: 0;
    right: 0;
    background: rgba(6, 6, 15, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    padding: 1.5rem 2rem;
    gap: 1.25rem;
    border-bottom: 1px solid var(--glass-border);
  }

  .stats-grid { grid-template-columns: repeat(2, 1fr); gap: 1rem; }
  .stat-card { padding: 1.5rem 1rem; }
  .stat-number { font-size: 2rem; }
  .stack-grid { grid-template-columns: 1fr; }
  .hero-actions { flex-direction: column; align-items: center; }
  .section { padding: 4rem 1.25rem; }
}

/* ====== REDUCED MOTION ====== */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  .reveal { opacity: 1; transform: none; }
  html { scroll-behavior: auto; }
}
</style>
</head>
<body>

<!-- ====== NAVIGATION ====== -->
<nav class="nav" id="nav">
  <div class="nav-inner">
    <div class="nav-logo">GR</div>
    <ul class="nav-links" id="navLinks">
      <li><a href="#about">About</a></li>
      <li><a href="#projects">Projects</a></li>
      <li><a href="#stack">Stack</a></li>
      <li><a href="#connect">Connect</a></li>
    </ul>
    <button class="nav-mobile-toggle" id="mobileToggle" aria-label="Toggle navigation">
      <span></span><span></span><span></span>
    </button>
  </div>
</nav>

<!-- ====== HERO ====== -->
<section class="hero" id="hero">
  <canvas class="hero-canvas" id="neuralCanvas"></canvas>
  <div class="hero-gradient-overlay"></div>
  <div class="hero-content">
    <div class="hero-badge">
      <span class="hero-badge-dot"></span>
      Cognitive Neuroscience & AI
    </div>
    <h1 class="hero-title">
      <span class="hero-title-line">Dr. Gareth</span>
      <span class="hero-title-line"><span class="gradient-text">Roberts</span></span>
    </h1>
    <p class="hero-subtitle">
      Bridging how brains think and machines learn.<br>
      Building tools that illuminate AI from the inside out.
    </p>
    <div class="hero-actions">
      <a href="#projects" class="btn btn-primary">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        View Work
      </a>
      <a href="#connect" class="btn btn-ghost">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        Get in Touch
      </a>
    </div>
  </div>
  <div class="hero-scroll-indicator">
    <div class="scroll-line"></div>
  </div>
</section>

<!-- ====== ABOUT SECTION ====== -->
<div class="section-divider"></div>
<section class="section" id="about" style="position:relative; overflow:hidden;">
  <div class="ambient-orb orb-1"></div>
  <div class="section-inner">
    <div class="reveal">
      <span class="section-label">Background</span>
      <h2 class="section-title">15+ years making AI<br>human-centred</h2>
      <p class="section-desc">
        PhD in Cognitive Neuroscience & AI, with deep expertise spanning academic research, industry applications, and open-source tooling.
      </p>
    </div>

    <div class="stats-grid">
      <div class="stat-card reveal reveal-delay-1">
        <div class="stat-number" data-count="15">0</div>
        <div class="stat-label">Years in AI</div>
      </div>
      <div class="stat-card reveal reveal-delay-2">
        <div class="stat-number" data-count="14">0</div>
        <div class="stat-label">Publications</div>
      </div>
      <div class="stat-card reveal reveal-delay-3">
        <div class="stat-number" data-count="12">0</div>
        <div class="stat-label">h-index</div>
      </div>
      <div class="stat-card reveal reveal-delay-4">
        <div class="stat-number">PhD</div>
        <div class="stat-label">Cognitive Neuroscience</div>
      </div>
    </div>

    <div class="experience-list">
      <div class="experience-item reveal reveal-delay-1">
        <div class="experience-icon blue">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#6c8cff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        </div>
        <div class="experience-info">
          <h3>Culture Amp</h3>
          <p>People analytics & AI-driven insights at scale</p>
        </div>
      </div>
      <div class="experience-item reveal reveal-delay-2">
        <div class="experience-icon purple">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#a06cff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
        </div>
        <div class="experience-info">
          <h3>NEOS Insurance</h3>
          <p>Smart home IoT & predictive risk models</p>
        </div>
      </div>
      <div class="experience-item reveal reveal-delay-3">
        <div class="experience-icon cyan">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#4dd9e8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
        </div>
        <div class="experience-info">
          <h3>Source Localisation Research</h3>
          <p>EEG signal processing & neural source mapping</p>
        </div>
      </div>
      <div class="experience-item reveal reveal-delay-4">
        <div class="experience-icon pink">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ff6cb4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 12 3 12 0v-5"/></svg>
        </div>
        <div class="experience-info">
          <h3>University of Sydney</h3>
          <p>Doctoral research in cognitive neuroscience & AI</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ====== PROJECTS SECTION ====== -->
<div class="section-divider"></div>
<section class="section" id="projects" style="position:relative; overflow:hidden;">
  <div class="ambient-orb orb-2"></div>
  <div class="section-inner">
    <div class="reveal">
      <span class="section-label">Projects</span>
      <h2 class="section-title">Current work</h2>
      <p class="section-desc">
        Open-source tools for understanding, testing, and securing large language models.
      </p>
    </div>

    <div class="projects-grid">
      <a href="https://github.com/dr-gareth-roberts/insideLLMs" class="project-card reveal reveal-delay-1" target="_blank" rel="noopener">
        <div class="project-header">
          <div class="project-icon neural">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#6c8cff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><line x1="12" y1="1" x2="12" y2="4"/><line x1="12" y1="20" x2="12" y2="23"/><line x1="4.93" y1="4.93" x2="7.05" y2="7.05"/><line x1="16.95" y1="16.95" x2="19.07" y2="19.07"/><line x1="1" y1="12" x2="4" y2="12"/><line x1="20" y1="12" x2="23" y2="12"/></svg>
          </div>
          <span class="project-link-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"/><polyline points="7 7 17 7 17 17"/></svg>
          </span>
        </div>
        <h3 class="project-name">insideLLMs</h3>
        <p class="project-desc">
          A Python library and CLI for comparing LLM behaviour across models using shared probes and datasets. Deterministic by design — store run artefacts and reliably diff behaviour in CI.
        </p>
        <div class="project-tags">
          <span class="tag">Python</span>
          <span class="tag purple">LLM Analysis</span>
          <span class="tag cyan">CLI</span>
          <span class="tag gold">CI/CD</span>
        </div>
      </a>

      <a href="https://github.com/dr-gareth-roberts/adversarial-debate" class="project-card reveal reveal-delay-2" target="_blank" rel="noopener">
        <div class="project-header">
          <div class="project-icon shield">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ff6cb4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          </div>
          <span class="project-link-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"/><polyline points="7 7 17 7 17 17"/></svg>
          </span>
        </div>
        <h3 class="project-name">adversarial-debate</h3>
        <p class="project-desc">
          Multi-agent AI security testing framework. Orchestrates red-team analyses, consolidates findings with an arbiter, and records an immutable audit ledger — plus a deterministic demo mode.
        </p>
        <div class="project-tags">
          <span class="tag pink">Security</span>
          <span class="tag">Multi-Agent</span>
          <span class="tag purple">Red Team</span>
          <span class="tag gold">Audit</span>
        </div>
      </a>

      <a href="https://github.com/dr-gareth-roberts/dr-gareth-roberts/blob/main/fine-tune-gemma-models-in-keras-using-lora.ipynb" class="project-card reveal reveal-delay-3" target="_blank" rel="noopener" style="grid-column: 1 / -1;">
        <div class="project-header">
          <div class="project-icon notebook">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#4dd9e8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
          </div>
          <span class="project-link-icon">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="7" y1="17" x2="17" y2="7"/><polyline points="7 7 17 7 17 17"/></svg>
          </span>
        </div>
        <h3 class="project-name">Fine-tune Gemma Models with LoRA in Keras</h3>
        <p class="project-desc">
          A step-by-step notebook walking through parameter-efficient fine-tuning of Google's Gemma 2B model using LoRA adapters with KerasNLP. Covers setup, training, and inference on custom datasets.
        </p>
        <div class="project-tags">
          <span class="tag cyan">KerasNLP</span>
          <span class="tag">Gemma 2B</span>
          <span class="tag purple">LoRA</span>
          <span class="tag gold">Fine-tuning</span>
          <span class="tag pink">Notebook</span>
        </div>
      </a>
    </div>
  </div>
</section>

<!-- ====== STACK SECTION ====== -->
<div class="section-divider"></div>
<section class="section" id="stack" style="position:relative; overflow:hidden;">
  <div class="ambient-orb orb-3"></div>
  <div class="section-inner">
    <div class="reveal">
      <span class="section-label">Technology</span>
      <h2 class="section-title">Stack & tools</h2>
      <p class="section-desc">
        Core technologies spanning deep learning, language models, and full-stack development.
      </p>
    </div>

    <div class="stack-grid">
      <div class="stack-item reveal reveal-delay-1">
        <div class="stack-icon python">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M12 2C6.48 2 6 4.02 6 5.5V8h6v1H5.5C3.02 9 1 10.52 1 13.5S3.52 18 5.5 18H8v-2.5c0-2.5 2.02-4.5 4.5-4.5H17c2.21 0 4-1.79 4-4V5.5C21 3.02 18 2 12 2zm-1.5 2a1 1 0 110 2 1 1 0 010-2z" fill="#3776AB"/><path d="M12 22c5.52 0 6-2.02 6-3.5V16h-6v-1h6.5c2.48 0 4.5-1.52 4.5-4.5S20.48 6 18.5 6H16v2.5c0 2.5-2.02 4.5-4.5 4.5H7c-2.21 0-4 1.79-4 4v1.5C3 20.98 6 22 12 22zm1.5-2a1 1 0 110-2 1 1 0 010 2z" fill="#FFD43B"/></svg>
        </div>
        <div>
          <div class="stack-name">Python</div>
          <div class="stack-detail">Primary language</div>
        </div>
      </div>
      <div class="stack-item reveal reveal-delay-2">
        <div class="stack-icon pytorch">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><circle cx="18" cy="6" r="2" fill="#EE4C2C"/><path d="M12 2L6.5 7.5a7.78 7.78 0 1011 0L12 2zm0 4l3 3" stroke="#EE4C2C" stroke-width="2" fill="none"/></svg>
        </div>
        <div>
          <div class="stack-name">PyTorch</div>
          <div class="stack-detail">Deep learning</div>
        </div>
      </div>
      <div class="stack-item reveal reveal-delay-3">
        <div class="stack-icon langchain">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M12 2L2 7v10l10 5 10-5V7L12 2z" stroke="#1C3C3C" stroke-width="2"/><path d="M12 12L2 7M12 12v10M12 12l10-5" stroke="#1C3C3C" stroke-width="1.5"/></svg>
        </div>
        <div>
          <div class="stack-name">LangChain</div>
          <div class="stack-detail">LLM orchestration</div>
        </div>
      </div>
      <div class="stack-item reveal reveal-delay-4">
        <div class="stack-icon huggingface">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke="#FFD21E" stroke-width="2"/><circle cx="8.5" cy="10" r="1.5" fill="#FFD21E"/><circle cx="15.5" cy="10" r="1.5" fill="#FFD21E"/><path d="M8 15c1.5 2 6.5 2 8 0" stroke="#FFD21E" stroke-width="2" stroke-linecap="round"/></svg>
        </div>
        <div>
          <div class="stack-name">HuggingFace</div>
          <div class="stack-detail">Model hub & transformers</div>
        </div>
      </div>
      <div class="stack-item reveal reveal-delay-5">
        <div class="stack-icon r-lang">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><text x="4" y="19" font-family="serif" font-weight="bold" font-size="20" fill="#276DC3">R</text></svg>
        </div>
        <div>
          <div class="stack-name">R</div>
          <div class="stack-detail">Statistical analysis</div>
        </div>
      </div>
      <div class="stack-item reveal reveal-delay-5">
        <div class="stack-icon typescript">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="2" y="2" width="20" height="20" rx="3" fill="#3178C6"/><text x="7" y="17" font-family="sans-serif" font-weight="bold" font-size="12" fill="white">TS</text></svg>
        </div>
        <div>
          <div class="stack-name">TypeScript</div>
          <div class="stack-detail">Full-stack development</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ====== CONNECT SECTION ====== -->
<div class="section-divider"></div>
<section class="section" id="connect">
  <div class="section-inner">
    <div class="reveal">
      <span class="section-label">Connect</span>
      <h2 class="section-title">Let's talk</h2>
      <p class="section-desc">
        Open to collaboration on AI safety, LLM interpretability, and neuroscience-inspired architectures.
      </p>
    </div>

    <div class="contact-grid">
      <a href="https://linkedin.com/in/dr-gareth-roberts" class="contact-card reveal reveal-delay-1" target="_blank" rel="noopener">
        <div class="contact-icon linkedin">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#0077B5"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
        </div>
        <div class="contact-info">
          <h3>LinkedIn</h3>
          <p>Professional network & updates</p>
        </div>
        <span class="contact-arrow">&rarr;</span>
      </a>

      <a href="https://scholar.google.com/citations?hl=en&user=NyJ5KocAAAAJ" class="contact-card reveal reveal-delay-2" target="_blank" rel="noopener">
        <div class="contact-icon scholar">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#4285F4"><path d="M12 24a7 7 0 110-14 7 7 0 010 14zm0-3a4 4 0 100-8 4 4 0 000 8z"/><path d="M1 10L12 2l11 8H1z"/></svg>
        </div>
        <div class="contact-info">
          <h3>Google Scholar</h3>
          <p>Publications & citations</p>
        </div>
        <span class="contact-arrow">&rarr;</span>
      </a>

      <a href="https://2.works" class="contact-card reveal reveal-delay-3" target="_blank" rel="noopener">
        <div class="contact-icon blog">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#FF5722" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
        </div>
        <div class="contact-info">
          <h3>Blog — 2.works</h3>
          <p>Writing on AI & neuroscience</p>
        </div>
        <span class="contact-arrow">&rarr;</span>
      </a>

      <a href="mailto:gareth.roberts@ieee.org" class="contact-card reveal reveal-delay-4">
        <div class="contact-icon email">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#D14836" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        </div>
        <div class="contact-info">
          <h3>Email</h3>
          <p>gareth.roberts@ieee.org</p>
        </div>
        <span class="contact-arrow">&rarr;</span>
      </a>
    </div>
  </div>
</section>

<!-- ====== FOOTER ====== -->
<footer class="footer">
  <p class="footer-text">&copy; 2025 <span class="gradient-text">Dr. Gareth Roberts</span>. Built with curiosity.</p>
</footer>

<!-- ====== SCRIPTS ====== -->
<script>
(function() {
  'use strict';

  /* ---- Neural Network Canvas ---- */
  const canvas = document.getElementById('neuralCanvas');
  const ctx = canvas.getContext('2d');
  let particles = [];
  let animationId;
  let width, height, dpr;

  function initCanvas() {
    dpr = Math.min(window.devicePixelRatio || 1, 2);
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width * dpr;
    canvas.height = height * dpr;
    canvas.style.width = width + 'px';
    canvas.style.height = height + 'px';
    ctx.scale(dpr, dpr);
  }

  const PARTICLE_COUNT = Math.min(Math.floor(window.innerWidth / 12), 120);
  const CONNECTION_DIST = 150;
  const MOUSE_DIST = 200;

  let mouse = { x: -1000, y: -1000 };

  class Particle {
    constructor() {
      this.x = Math.random() * width;
      this.y = Math.random() * height;
      this.vx = (Math.random() - 0.5) * 0.4;
      this.vy = (Math.random() - 0.5) * 0.4;
      this.r = Math.random() * 1.5 + 0.5;
      this.hue = Math.random() > 0.5 ? 230 : 270;
      this.alpha = Math.random() * 0.5 + 0.3;
    }

    update() {
      this.x += this.vx;
      this.y += this.vy;

      if (this.x < 0 || this.x > width) this.vx *= -1;
      if (this.y < 0 || this.y > height) this.vy *= -1;

      /* Gentle mouse attraction */
      const dx = mouse.x - this.x;
      const dy = mouse.y - this.y;
      const dist = Math.sqrt(dx * dx + dy * dy);
      if (dist < MOUSE_DIST && dist > 0) {
        const force = (MOUSE_DIST - dist) / MOUSE_DIST * 0.008;
        this.vx += dx / dist * force;
        this.vy += dy / dist * force;
      }

      /* Damping */
      this.vx *= 0.999;
      this.vy *= 0.999;
    }

    draw() {
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2);
      ctx.fillStyle = `hsla(${this.hue}, 70%, 70%, ${this.alpha})`;
      ctx.fill();
    }
  }

  function createParticles() {
    particles = [];
    for (let i = 0; i < PARTICLE_COUNT; i++) {
      particles.push(new Particle());
    }
  }

  function drawConnections() {
    for (let i = 0; i < particles.length; i++) {
      for (let j = i + 1; j < particles.length; j++) {
        const dx = particles[i].x - particles[j].x;
        const dy = particles[i].y - particles[j].y;
        const dist = Math.sqrt(dx * dx + dy * dy);

        if (dist < CONNECTION_DIST) {
          const opacity = (1 - dist / CONNECTION_DIST) * 0.15;
          ctx.beginPath();
          ctx.moveTo(particles[i].x, particles[i].y);
          ctx.lineTo(particles[j].x, particles[j].y);
          ctx.strokeStyle = `rgba(108, 140, 255, ${opacity})`;
          ctx.lineWidth = 0.5;
          ctx.stroke();
        }
      }
    }

    /* Mouse connections */
    for (let i = 0; i < particles.length; i++) {
      const dx = mouse.x - particles[i].x;
      const dy = mouse.y - particles[i].y;
      const dist = Math.sqrt(dx * dx + dy * dy);

      if (dist < MOUSE_DIST) {
        const opacity = (1 - dist / MOUSE_DIST) * 0.25;
        ctx.beginPath();
        ctx.moveTo(particles[i].x, particles[i].y);
        ctx.lineTo(mouse.x, mouse.y);
        ctx.strokeStyle = `rgba(160, 108, 255, ${opacity})`;
        ctx.lineWidth = 0.7;
        ctx.stroke();
      }
    }
  }

  function animate() {
    ctx.clearRect(0, 0, width, height);
    particles.forEach(p => { p.update(); p.draw(); });
    drawConnections();
    animationId = requestAnimationFrame(animate);
  }

  /* Only run canvas when hero is visible */
  const heroObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        if (!animationId) animate();
      } else {
        cancelAnimationFrame(animationId);
        animationId = null;
      }
    });
  }, { threshold: 0.05 });

  initCanvas();
  createParticles();
  heroObserver.observe(document.getElementById('hero'));

  /* Throttled mouse tracking */
  let mouseThrottle = false;
  document.addEventListener('mousemove', e => {
    if (mouseThrottle) return;
    mouseThrottle = true;
    requestAnimationFrame(() => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
      mouseThrottle = false;
    });
  }, { passive: true });

  /* Debounced resize */
  let resizeTimeout;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
      initCanvas();
      createParticles();
    }, 250);
  }, { passive: true });


  /* ---- Scroll Reveal (IntersectionObserver) ---- */
  const revealObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        revealObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });

  document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));


  /* ---- Number Counter Animation ---- */
  const counterObserver = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const el = entry.target;
        const target = parseInt(el.dataset.count, 10);
        if (!target) return;
        let current = 0;
        const increment = target / 40;
        const step = () => {
          current += increment;
          if (current >= target) {
            el.textContent = target + '+';
            return;
          }
          el.textContent = Math.floor(current) + '+';
          requestAnimationFrame(step);
        };
        requestAnimationFrame(step);
        counterObserver.unobserve(el);
      }
    });
  }, { threshold: 0.5 });

  document.querySelectorAll('[data-count]').forEach(el => counterObserver.observe(el));


  /* ---- Navigation Scroll Effect ---- */
  const nav = document.getElementById('nav');
  let lastScroll = 0;
  let navThrottle = false;

  window.addEventListener('scroll', () => {
    if (navThrottle) return;
    navThrottle = true;
    requestAnimationFrame(() => {
      const scrollY = window.scrollY;
      if (scrollY > 50) {
        nav.classList.add('scrolled');
      } else {
        nav.classList.remove('scrolled');
      }
      lastScroll = scrollY;
      navThrottle = false;
    });
  }, { passive: true });


  /* ---- Mobile Navigation ---- */
  const mobileToggle = document.getElementById('mobileToggle');
  const navLinks = document.getElementById('navLinks');

  mobileToggle.addEventListener('click', () => {
    navLinks.classList.toggle('mobile-open');
  });

  navLinks.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      navLinks.classList.remove('mobile-open');
    });
  });


  /* ---- Smooth scroll for anchor links ---- */
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', e => {
      e.preventDefault();
      const target = document.querySelector(anchor.getAttribute('href'));
      if (target) {
        target.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });


  /* ---- Reduced motion check ---- */
  if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
    cancelAnimationFrame(animationId);
    animationId = null;
    heroObserver.disconnect();
    document.querySelectorAll('.reveal').forEach(el => el.classList.add('visible'));
    document.querySelectorAll('[data-count]').forEach(el => {
      const t = parseInt(el.dataset.count, 10);
      if (t) el.textContent = t + '+';
    });
  }

})();
</script>

</body>
</html>
